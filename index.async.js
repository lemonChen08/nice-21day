"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[826],{79769:function(J,h,a){a.r(h),a.d(h,{default:function(){return M}});var Q=a(68935),F=a(525),H=a(63409),y=a(26969),K=a(4782),C=a(996),X=a(74123),N=a(10781),$=a(34264),m=a(5745),w=a(94113),r=a(21813),k=a(62610),g=a(23374),q=a(56689),j=a(33738),_=a(81077),f=a(58628),ee=a(14010),x=a(12469),Z=a(55980),v=a.n(Z),E=a(42217),A=a.n(E),D=a(3849),I=a.n(D),P=a(75834),B=a(93236),T=a(59928),U=a.n(T),S=a.p+"static/template.66b43c72.jpeg",u={content:"content___fr8u_",template:"template___zkSLt","training-title":"training-title___BKg_f",user:"user___YC4ZP",user__avatar:"user__avatar___sQVM3",user__name:"user__name___otWR8",result:"result___ztgYS","result-metric__value":"result-metric__value___cD8hQ","result-metric__label":"result-metric__label___V2X5D"},e=a(62086),L=["userAvatarUpload"],R=function(c,t){var n=new FileReader;n.addEventListener("load",function(){return t(n.result)}),n.readAsDataURL(c)},V=["\u5B66\u4E60\u8BAD\u7EC3\u8425"];function M(){var p=(0,B.useState)({}),c=I()(p,2),t=c[0],n=c[1],O=function(l,i){var d=l.userAvatarUpload,o=A()(l,L);n(function(b){return v()(v()({},b),o)})},z=function(l){var i="".concat(l.userName,"_21\u5929").concat(l.trainingName,"\u7B2C").concat(l.trainingNo,"\u671F.jpg");U()(document.getElementById("template")).then(function(d){var o=document.createElement("a");o.href=d.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),o.download=i,o.click()})},G=function(l){var i=l.type==="image/jpeg"||l.type==="image/png";i||x.default.error("\u53EA\u80FD\u4E0A\u4F20 JPG/PNG \u7C7B\u578B\u7684\u56FE\u7247");var d=l.size/1024/1024<2;return d||x.default.error("\u56FE\u7247\u4E0D\u80FD\u8D85\u8FC7 2MB"),!1},W=function(l){R(l.file,function(i){n(function(d){return v()(v()({},d),{},{userAvatar:i})})})},Y=(0,B.useMemo)(function(){return[{label:"\u6253\u5361\u5929\u6570",value:t.clockDays},{label:"\u603B\u76EE\u6807\u6570",value:t.totalTargetCount},{label:"\u603B\u79EF\u5206\u6570",value:t.totalPoints}]},[t.clockDays,t.totalTargetCount,t.totalPoints]);return(0,e.jsxs)(F.Z,{gutter:10,className:u.content,children:[(0,e.jsx)(f.Z,{span:12,children:(0,e.jsxs)("div",{className:u.template,id:"template",children:[(0,e.jsx)("img",{src:S}),(0,e.jsxs)("div",{className:u["training-title"],children:["21\u5929",t.trainingName||"--","\u7B2C",t.trainingNo||"--","\u671F"]}),(0,e.jsxs)("div",{className:u.user,children:[(0,e.jsx)("div",{className:u.user__avatar,children:(0,e.jsx)("img",{src:t.userAvatar})}),(0,e.jsx)("div",{className:u.user__name,children:t.userName})]}),(0,e.jsx)("div",{className:u.result,children:Y.map(function(s){return(0,e.jsxs)("div",{className:u["result-metric"],children:[(0,e.jsx)("div",{className:u["result-metric__value"],children:s.value||0}),(0,e.jsx)("div",{className:u["result-metric__label"],children:s.label})]},s.label)})})]})}),(0,e.jsx)(f.Z,{span:8,children:(0,e.jsxs)(r.Z,{labelCol:{span:6},onValuesChange:O,onFinish:z,children:[(0,e.jsx)(j.Z,{orientation:"left",children:"\u8BAD\u7EC3\u8425\u8BBE\u7F6E"}),(0,e.jsx)(r.Z.Item,{name:"trainingName",label:"\u8BAD\u7EC3\u8425",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BAD\u7EC3\u8425\u7C7B\u578B"}],children:(0,e.jsx)(g.Z,{placeholder:"\u8BF7\u9009\u62E9\u8BAD\u7EC3\u8425\u7C7B\u578B",children:V.map(function(s){return(0,e.jsx)(g.Z.Option,{value:s,children:s},s)})})}),(0,e.jsx)(r.Z.Item,{name:"trainingNo",label:"\u8BAD\u7EC3\u8425\u671F\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BAD\u7EC3\u8425\u671F\u6570"}],children:(0,e.jsx)(m.Z,{min:1,max:999,placeholder:"\u8BF7\u8F93\u5165\u8BAD\u7EC3\u8425\u671F\u6570",style:{width:"100%"}})}),(0,e.jsx)(j.Z,{orientation:"left",children:"\u5B66\u5458\u8BBE\u7F6E"}),(0,e.jsx)(r.Z.Item,{name:"userName",label:"\u5B66\u5458\u59D3\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B66\u5458\u59D3\u540D"}],children:(0,e.jsx)(N.Z,{placeholder:"\u8BF7\u8F93\u5165\u5B66\u5458\u59D3\u540D"})}),(0,e.jsx)(r.Z.Item,{name:"userAvatarUpload",label:"\u5B66\u5458\u5934\u50CF",valuePropName:"file",rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u5B66\u5458\u5934\u50CF"}],children:(0,e.jsx)(C.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:G,onChange:W,children:t.userAvatar?(0,e.jsx)("img",{src:t.userAvatar,alt:"avatar",style:{height:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(P.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"\u9009\u62E9\u56FE\u7247"})]})})}),(0,e.jsx)(r.Z.Item,{name:"clockDays",label:"\u6253\u5361\u5929\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6253\u5361\u5929\u6570"}],children:(0,e.jsx)(m.Z,{min:0,max:21,placeholder:"\u8BF7\u8F93\u5165\u6253\u5361\u5929\u6570",style:{width:"100%"}})}),(0,e.jsx)(r.Z.Item,{name:"totalTargetCount",label:"\u603B\u76EE\u6807\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u603B\u76EE\u6807\u6570"}],children:(0,e.jsx)(m.Z,{min:0,max:99,placeholder:"\u8BF7\u8F93\u5165\u603B\u76EE\u6807\u6570",style:{width:"100%"}})}),(0,e.jsx)(r.Z.Item,{name:"totalPoints",label:"\u603B\u79EF\u5206",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u603B\u79EF\u5206"}],children:(0,e.jsx)(m.Z,{min:0,max:99,placeholder:"\u8BF7\u8F93\u5165\u603B\u79EF\u5206",style:{width:"100%"}})}),(0,e.jsx)(r.Z.Item,{wrapperCol:{offset:6},children:(0,e.jsx)(y.default,{type:"primary",htmlType:"submit",children:"\u751F\u6210\u8BC1\u4E66"})})]})})]})}}}]);
