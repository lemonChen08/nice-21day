"use strict";(self.webpackChunk_nice_21day_web=self.webpackChunk_nice_21day_web||[]).push([[254],{74367:function(z,h,a){a.r(h),a.d(h,{default:function(){return R}});var F=a(60306),o=a.n(F),C=a(53197),Z=a.n(C),N=a(75444),E=a.n(N),A=a(19214),g=a(4064),y=a(68800),j=a(29591),s=a(79582),x=a(75495),f=a(16272),c=a(92109),D=a(98788),P=a(66128),I=a(91173),T=a(56828),U=a.n(T),p=a(58757),b=a.p+"static/template.66b43c72.jpeg",l={content:"content___Khuqh",template:"template___vxq21","training-title":"training-title___LQamf",user:"user___Aetts",user__avatar:"user__avatar___BOJT7",user__name:"user__name___fanDD",result:"result___uoWux","result-metric__value":"result-metric__value___l_52T","result-metric__label":"result-metric__label___Ufne9"},e=a(48902),L=["userAvatarUpload"],O=function(v,t){var i=new FileReader;i.addEventListener("load",function(){return t(i.result)}),i.readAsDataURL(v)},S=["\u5B66\u4E60\u8BAD\u7EC3\u8425"];function R(){var B=(0,p.useState)({}),v=E()(B,2),t=v[0],i=v[1],G=function(r){var d=r.userAvatarUpload,n=Z()(r,L);i(function(m){return o()(o()({},m),n)})},J=function(r){var d="".concat(r.userName,"_21\u5929").concat(r.trainingName,"\u7B2C").concat(r.trainingNo,"\u671F.jpg");U()(document.getElementById("template")).then(function(n){var m=document.createElement("a");m.href=n.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),m.download=d,m.click()})},M=function(r){var d=r.type==="image/jpeg"||r.type==="image/png";d||g.ZP.error("\u53EA\u80FD\u4E0A\u4F20 JPG/PNG \u7C7B\u578B\u7684\u56FE\u7247");var n=r.size/1024/1024<2;return n||g.ZP.error("\u56FE\u7247\u4E0D\u80FD\u8D85\u8FC7 2MB"),!1},V=function(r){O(r.file,function(d){i(function(n){return o()(o()({},n),{},{userAvatar:d})})})},W=(0,p.useMemo)(function(){return[{label:"\u6253\u5361\u5929\u6570",value:t.clockDays},{label:"\u603B\u76EE\u6807\u6570",value:t.totalTargetCount},{label:"\u603B\u79EF\u5206\u6570",value:t.totalPoints}]},[t.clockDays,t.totalTargetCount,t.totalPoints]);return(0,e.jsxs)(y.Z,{gutter:10,className:l.content,children:[(0,e.jsx)(j.Z,{span:12,children:(0,e.jsxs)("div",{className:l.template,id:"template",children:[(0,e.jsx)("img",{src:b}),(0,e.jsxs)("div",{className:l["training-title"],children:["21\u5929",t.trainingName||"--","\u7B2C",t.trainingNo||"--","\u671F"]}),(0,e.jsxs)("div",{className:l.user,children:[(0,e.jsx)("div",{className:l.user__avatar,children:(0,e.jsx)("img",{src:t.userAvatar})}),(0,e.jsx)("div",{className:l.user__name,children:t.userName})]}),(0,e.jsx)("div",{className:l.result,children:W.map(function(u){return(0,e.jsxs)("div",{className:l["result-metric"],children:[(0,e.jsx)("div",{className:l["result-metric__value"],children:u.value||0}),(0,e.jsx)("div",{className:l["result-metric__label"],children:u.label})]},u.label)})})]})}),(0,e.jsx)(j.Z,{span:8,children:(0,e.jsxs)(s.Z,{labelCol:{span:6},onValuesChange:G,onFinish:J,children:[(0,e.jsx)(x.Z,{orientation:"left",children:"\u8BAD\u7EC3\u8425\u8BBE\u7F6E"}),(0,e.jsx)(s.Z.Item,{name:"trainingName",label:"\u8BAD\u7EC3\u8425",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BAD\u7EC3\u8425\u7C7B\u578B"}],children:(0,e.jsx)(f.Z,{placeholder:"\u8BF7\u9009\u62E9\u8BAD\u7EC3\u8425\u7C7B\u578B",children:S.map(function(u){return(0,e.jsx)(f.Z.Option,{value:u,children:u},u)})})}),(0,e.jsx)(s.Z.Item,{name:"trainingNo",label:"\u8BAD\u7EC3\u8425\u671F\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BAD\u7EC3\u8425\u671F\u6570"}],children:(0,e.jsx)(c.Z,{min:1,max:999,placeholder:"\u8BF7\u8F93\u5165\u8BAD\u7EC3\u8425\u671F\u6570",style:{width:"100%"}})}),(0,e.jsx)(x.Z,{orientation:"left",children:"\u5B66\u5458\u8BBE\u7F6E"}),(0,e.jsx)(s.Z.Item,{name:"userName",label:"\u5B66\u5458\u59D3\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B66\u5458\u59D3\u540D"}],children:(0,e.jsx)(D.Z,{placeholder:"\u8BF7\u8F93\u5165\u5B66\u5458\u59D3\u540D"})}),(0,e.jsx)(s.Z.Item,{name:"userAvatarUpload",label:"\u5B66\u5458\u5934\u50CF",valuePropName:"file",rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u5B66\u5458\u5934\u50CF"}],children:(0,e.jsx)(P.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:M,onChange:V,children:t.userAvatar?(0,e.jsx)("img",{src:t.userAvatar,alt:"avatar",style:{height:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(A.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"\u9009\u62E9\u56FE\u7247"})]})})}),(0,e.jsx)(s.Z.Item,{name:"clockDays",label:"\u6253\u5361\u5929\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6253\u5361\u5929\u6570"}],children:(0,e.jsx)(c.Z,{min:0,max:21,placeholder:"\u8BF7\u8F93\u5165\u6253\u5361\u5929\u6570",style:{width:"100%"}})}),(0,e.jsx)(s.Z.Item,{name:"totalTargetCount",label:"\u603B\u76EE\u6807\u6570",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u603B\u76EE\u6807\u6570"}],children:(0,e.jsx)(c.Z,{min:0,max:99,placeholder:"\u8BF7\u8F93\u5165\u603B\u76EE\u6807\u6570",style:{width:"100%"}})}),(0,e.jsx)(s.Z.Item,{name:"totalPoints",label:"\u603B\u79EF\u5206",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u603B\u79EF\u5206"}],children:(0,e.jsx)(c.Z,{min:0,max:99,placeholder:"\u8BF7\u8F93\u5165\u603B\u79EF\u5206",style:{width:"100%"}})}),(0,e.jsx)(s.Z.Item,{wrapperCol:{offset:6},children:(0,e.jsx)(I.Z,{type:"primary",htmlType:"submit",children:"\u751F\u6210\u8BC1\u4E66"})})]})})]})}}}]);
